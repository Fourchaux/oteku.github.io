<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <!-- Enable responsiveness on mobile devices-->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1"
    />

    <title>Les carnets d&#x27;Oteku</title>

    <!-- CSS -->
    <link rel="stylesheet" href="https:&#x2f;&#x2f;oteku.github.io&#x2f;print.css" media="print"> <link rel="stylesheet" href="https:&#x2f;&#x2f;oteku.github.io&#x2f;poole.css"> <link rel="stylesheet" href="https:&#x2f;&#x2f;oteku.github.io&#x2f;hyde.css"><link rel="stylesheet" href="https:&#x2f;&#x2f;oteku.github.io&#x2f;fontawsome.css">
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Special+Elite"
    />

     <link rel="alternate"
    type="application/rss+xml" title="RSS" href="https:&#x2f;&#x2f;oteku.github.io&#x2f;rss.xml">   
  </head>

  <body
    class="theme-base-0b layout-reverse"
  >
    
    <div class="sidebar">
      <div
        class="container sidebar-sticky"
      >
        <div class="sidebar-about">
          
          <a href="https:&#x2f;&#x2f;oteku.github.io"
            ><h1>Les carnets d&#x27;Oteku</h1></a
          >
          
          <p class="lead">Je m&#x27;appelle Thomas Haesslé, j&#x27;écris quelques essais dans ce carnet sur #ReasonML #Ocaml #Rust</p>
           
        </div>

        <ul class="sidebar-nav">
           
          <li class="sidebar-nav-item">
            <i
              class="icon-twitter"
              ><a href="https:&#x2f;&#x2f;twitter.com&#x2f;oteku">Twitter</a></i
            >
          </li>
          
          <li class="sidebar-nav-item">
            <i
              class="icon-link"
              ><a href="https:&#x2f;&#x2f;mastodon.social&#x2f;@oteku">Mastodon</a></i
            >
          </li>
          
          <li class="sidebar-nav-item">
            <i
              class="icon-github"
              ><a href="https:&#x2f;&#x2f;github.com&#x2f;oteku">Github</a></i
            >
          </li>
          
          <li class="sidebar-nav-item">
            <i
              class="icon-beer"
              ><a href="https:&#x2f;&#x2f;www.meetup.com&#x2f;fr-FR&#x2f;Lille-FP">LilleFP</a></i
            >
          </li>
           
        </ul>
      </div>
    </div>
    

    <div class="content container">
      
<div class="post">
  <h1 class="post-title">Pipe macro en Rust</h1>
  <span class="post-date">2019-03-29</span>
  <p>Ceci est un article de boilerplate.
De vrais articles arrivent bientôt.</p>
<pre style="background-color:#212733;">
<span style="color:#ccc9c2;">
</span><span style="color:#ffa759;">pub </span><span style="color:#f28779;">macro_rules! </span><span style="color:#73d0ff;">pipe </span><span style="color:#ccc9c2;">{
    ( </span><span style="color:#ffcc66;">$last</span><span style="color:#ccc9c2cc;">:</span><span style="color:#ffa759;">expr </span><span style="color:#ccc9c2;">) </span><span style="color:#f29e74;">=&gt; </span><span style="color:#ccc9c2;">{ $last };
    ( </span><span style="color:#ffcc66;">$head</span><span style="color:#ccc9c2cc;">:</span><span style="color:#ffa759;">expr</span><span style="color:#ccc9c2;">, </span><span style="color:#f29e74;">$</span><span style="color:#ccc9c2;">($tail:expr), +) =&gt; {
        pipe_two($head, pipe!($($tail),</span><span style="color:#f29e74;">+</span><span style="color:#ccc9c2;">))
    };
}

fn pipe_two&lt;A, B, C, G, F&gt;(f</span><span style="color:#ccc9c2cc;">:</span><span style="color:#ccc9c2;"> F</span><span style="color:#ccc9c2cc;">,</span><span style="color:#ccc9c2;"> g</span><span style="color:#ccc9c2cc;">:</span><span style="color:#ccc9c2;"> G) -&gt; impl Fn(A) -&gt; C
where
    F: Fn(A) -&gt; B,
    G: Fn(B) -&gt; C,
{
    </span><span style="color:#ffa759;">move </span><span style="color:#f29e74;">|</span><span style="color:#ccc9c2;">x</span><span style="color:#f29e74;">| </span><span style="color:#f28779;">g</span><span style="color:#ccc9c2;">(</span><span style="color:#f28779;">f</span><span style="color:#ccc9c2;">(x))
}
</span></pre>
</div>

    </div>
  </body>
</html>
